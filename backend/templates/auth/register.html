<h2>Register</h2>

<input id="email" placeholder="Email"><br>
<input id="full_name" placeholder="Full Name"><br>
<input id="password" type="password"><br>

<button onclick="register()">Register</button>
<p id="msg"></p>

<script>
  function register() {
    fetch("/api/accounts/register/", {
      method: "POST",
      headers: {"Content-Type": "application/json"},
      body: JSON.stringify({
        email: email.value,
        full_name: full_name.value,
        password: password.value
      })
    })
      .then(res => {
        if (!res.ok) throw new Error("Registration failed");
        return res.json();
      })
      .then(() => {
        msg.innerText = "Registered successfully!";
        window.location.href = "/login/";
      })
      .catch(err => msg.innerText = err.message);
  }
</script>
